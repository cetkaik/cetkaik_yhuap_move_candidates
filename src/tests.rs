use super::*;

fn not_from_hand_candidates(gameState: &PureGameState) -> Vec<PureOpponentMove> {
    not_from_hand_candidates_(
        Config {
            allow_kut2tam2: false,
        },
        gameState,
    )
}

fn not_from_hand_candidates_with_kut2tam2(gameState: &PureGameState) -> Vec<PureOpponentMove> {
    not_from_hand_candidates_(
        Config {
            allow_kut2tam2: true,
        },
        gameState,
    )
}

fn runTest<T, F, F2>(
    fun: F,
    sample: &PureGameState,
    serializer: F2,
    tested_against: &[&'static str],
) -> bool
where
    F: FnOnce(&PureGameState) -> Vec<T>,
    F2: Fn(T) -> String,
{
    use std::collections::HashSet;
    let set1 = fun(sample)
        .into_iter()
        .map(serializer)
        .collect::<HashSet<String>>();
    let set2 = tested_against
        .into_iter()
        .map(|s| s.to_string())
        .collect::<HashSet<String>>();

    set1 == set2
}

mod test_not_from_hand_candidates_with_kut2tam2 {
    use crate::serialize::*;

    #[test]
    fn test_tamCornerSample() {
        assert_eq!(
            super::runTest(
                super::not_from_hand_candidates_with_kut2tam2,
                &crate::test_cases::tamCornerSample(),
                serializePureOpponentMove,
                &[
                    "CAI片XAI",
                    "CAI片CY",
                    "MAI片MAUMAI",
                    "PAI片PAUPAI",
                    "MAU片MIAMAU",
                    "MAU片PAUMAU",
                    "MAU片MAIMAU",
                    "PAU片MAUPAU",
                    "PAU片PAIPAU",
                    "MIA片MAUMIA",
                    /* 撃皇 */
                    "PAU片PIAPAU",
                    "MIA片PIAMIA",
                ],
            ),
            true,
        );
    }

    #[test]
    fn test_tamItselfIsNotTamHueSample() {
        assert_eq!(
            super::runTest(
                super::not_from_hand_candidates_with_kut2tam2,
                &crate::tamItselfIsNotTamHueSample,
                serializePureOpponentMove,
                &[
                    &crate::INITIAL_MOVES_NO_KUT_TAM[..],
                    &vec![
                        "ZI片ZOXO",
                        "ZI片ZOTO",
                        "ZI片ZOCO",
                        "ZI片ZONO",
                        "ZI片ZO心ZY",
                        "ZI片ZO心ZAI",
                        "ZI片ZO心ZU",
                        "ZI片ZO心ZI",
                        "ZI片ZO心ZE",
                    ][..],
                ]
                .concat(),
            ),
            true,
        );
    }

    #[test]
    fn test_initialBoardSample() {
        assert_eq!(
            super::runTest(
                super::not_from_hand_candidates_with_kut2tam2,
                &crate::initialBoardSample,
                serializePureOpponentMove,
                &[
                    &crate::INITIAL_MOVES_NO_KUT_TAM[..],
                    &vec![
                        "ZI片ZOXO",
                        "ZI片ZOTO",
                        "ZI片ZOCO",
                        "ZI片ZONO",
                        "ZI片ZO心ZY",
                        "ZI片ZO心ZAI",
                        "ZI片ZO心ZU",
                        "ZI片ZO心ZI",
                        "ZI片ZO心ZE",
                    ],
                ]
                .concat(),
            ),
            true,
        );
    }
}

mod not_from_hand_candidates {
    use crate::serialize::*;
    #[test]
    fn test_simpleBoardSample_3() {
        assert_eq!(
            super::runTest(
                super::not_from_hand_candidates,
                &crate::test_cases::simpleBoardSample_3(),
                serializePureOpponentMove,
                &["PI片PU"],
            ),
            true,
        );
    }
    #[test]
    fn test_simpleBoardSample_1_IA_is_down_true() {
        assert_eq!(
            super::runTest(
                super::not_from_hand_candidates,
                &crate::test_cases::simpleBoardSample_1(),
                serializePureOpponentMove,
                &[
                    "KA片LA", /* horizontal */
                    "KA片KE",
                    "KA片KI",
                    "KA片KU",
                    "KA片KO",
                    "KA片KY",     /* vertical */
                    "KA片KAI",    /* take */
                    "KA片KAILAI", /* step and then horizontal */
                    "KA片KAI心KAU",
                    "KA片KAI心KIA", /* step and then plan to proceed */
                    "KA片KAI心KY",
                    "KA片KAI心KO",
                    "KA片KAI心KU",
                    "KA片KAI心KI",
                    "KA片KAI心KE",
                    "KA片KAI心KA", /* step and then plan u-turn */
                ],
            ),
            true,
        );
    }
    #[test]
    fn test_simpleBoardSample_2_IA_is_down_false() {
        assert_eq!(
            super::runTest(
                super::not_from_hand_candidates,
                &crate::test_cases::simpleBoardSample_2(),
                serializePureOpponentMove,
                &[
                    "PIA片MIA", /* horizontal */
                    "PIA片PAU",
                    "PIA片PAI",
                    "PIA片PY",
                    "PIA片PO",
                    "PIA片PU",   /* vertical */
                    "PIA片PI",   /* take */
                    "PIA片PIMI", /* step and then horizontal */
                    "PIA片PI心PE",
                    "PIA片PI心PA", /* step and then plan to proceed */
                    "PIA片PI心PU",
                    "PIA片PI心PO",
                    "PIA片PI心PY",
                    "PIA片PI心PAI",
                    "PIA片PI心PAU",
                    "PIA片PI心PIA", /* step and then plan u-turn */
                ],
            ),
            true,
        );
    }
    #[test]
    fn test_initialBoardSample() {
        assert_eq!(
            super::runTest(
                super::not_from_hand_candidates,
                &crate::initialBoardSample,
                serializePureOpponentMove,
                &crate::INITIAL_MOVES_NO_KUT_TAM,
            ),
            true,
        );
    }
    #[test]
    fn test_complicatedBoardSample_1() {
        assert_eq!(
            super::runTest(
                super::not_from_hand_candidates,
                &crate::test_cases::complicatedBoardSample_1(),
                serializePureOpponentMove,
                &[
                    "XA片XE",
                    "TE片ZI水",
                    "TE片ZITU",
                    "TE片ZIXE",
                    "TE片ZITE",
                    "TE片NI心TU",
                    "TE片NI心LU",
                    "TE片NI心ZA",
                    "TE片NI心TE",
                    "TE片NI心LE",
                    "TE片ZA",
                    "TE片NA",
                    "TE片NATE",
                    "TE片NALE",
                    "ZE片XICU",
                    "ZE片XIZI水",
                    "ZE片XICE",
                    "ZE片XIZE",
                    "ZE片ZI水",
                    "ZE片ZITU",
                    "ZE片ZIXE",
                    "ZE片TITU",
                    "ZE片TINU",
                    "ZE片TIZI水",
                    "ZE片TIZE",
                    "ZE片TINE",
                    "ZE片XE",
                    "ZE片XEZI水",
                    "ZE片XECE",
                    "ZE片XEZE",
                    "ZE片XECA",
                    "ZE片XEZA",
                    "ZE片TEZI水",
                    "ZE片TEZE",
                    "ZE片TENE",
                    "ZE片TEZA",
                    "ZE片TENA",
                    "ZE片XACE",
                    "ZE片XAXE",
                    "ZE片XAZE",
                    "ZE片XACA",
                    "ZE片XAZA",
                    "ZE片TA",
                    "ZE片TAZE",
                    "ZE片TANE",
                    "ZE片TAZA",
                    "ZE片TANA",
                    "ME片MIMU",
                    "KI片KO",
                    "KI片KA",
                    "KI片NIKO",
                    "KI片NIKA",
                    "KI片NIZA",
                    "NI片ZO心LAU",
                    "NI片ZO心NAI",
                    "NI片ZO心LE",
                    "NI片ZO心NI",
                    "NI片KO",
                    "NI片ZA",
                    "NI片KA",
                    "TI片XO水",
                    "TI片XOTAI",
                    "TI片XOTI",
                    "TI片LO",
                    "TI片LA",
                    "TI片XATI",
                    "XI片XU心CO",
                    "XI片XU心ZI",
                    "XI片XE",
                    "XI片XE心XI",
                    "XI片XE心CE",
                    "XI片CI心PO",
                    "XI片CI心MU",
                    "XI片CI心XE",
                    "XI片ZI水",
                    "XI片ZI心XI",
                    "CI片MU",
                    "CI片CU",
                    "CI片XUCO水",
                    "CI片XUXO水",
                    "CI片XUCU",
                    "CI片XUCI",
                    "CI片XUZI水",
                    "CI片MIMU",
                    "CI片MICU",
                    "CI片MIPI",
                    "CI片MICI",
                    "CI片MIPE",
                    "CI片MICE",
                    "CI片XICU",
                    "CI片XICI",
                    "CI片XIZI水",
                    "CI片XICE",
                    "CI片MEPI",
                    "CI片MECI",
                    "CI片MEPE",
                    "CI片MECE",
                    "CI片MEPA",
                    "CI片MECA",
                    "CI片CE",
                    "CI片CECI",
                    "CI片CEXE",
                    "CI片CEMA",
                    "CI片XE",
                    "CI片XECI",
                    "CI片XEZI水",
                    "CI片XECE",
                    "CI片XECA",
                    "CI片XEZA",
                    "MI片MU",
                    "MI片MEMI",
                    "MI片MEMA",
                    "MI片ME心PE",
                    "MI片ME心CE",
                    "MI片PI",
                    "MI片PIPE",
                    "MI片PI心MI",
                    "MI片CI心CU",
                    "MI片CI心CO",
                    "MI片CI心CE",
                    "MI片CI心CA",
                    "MI片CI心MI",
                    "MI片CI心PI",
                    "MI片CI心ZI",
                    "MI片CI心PO",
                    "MI片CI心MU",
                    "MI片CI心PA",
                    "MI片CI心ZA",
                    "MI片CI心XE",
                    "ZU片ZOZY",
                    "ZU片ZOXO",
                    "ZU片ZOZU",
                    "ZU片ZOZAI",
                    "XU片XO水",
                    "XU片XOXY",
                    "XU片CU",
                    "XU片XIXU",
                    "PU片PO",
                    "PU片PY",
                    "PU片PY心PAI",
                    "TO片NO",
                    "TO片TY",
                    "TO片TAI",
                    "TO片TAU",
                    "TO片TAUZAU",
                    "TO片TAUNAU",
                    "TO片TAU心TIA",
                    "TO片TAU心TAI",
                    "TO片TAU心TY",
                    "TO片TAU心TO",
                    "TO片TAU心TU",
                    "TO片ZO心ZY",
                    "TO片ZO心ZAI",
                    "TO片ZO心XO",
                    "TO片ZO心TO",
                    "TO片ZO心NO",
                    "TO片ZO心LO",
                    "TO片ZO心KO",
                    "TO片TU",
                    "TO片TU心TO",
                    "TO片TU心TY",
                    "TO片TU心TAI",
                    "TO片TU心TAU",
                    "TO片TU心NU",
                    "ZO片XY",
                    "ZO片XYZAI",
                    "ZO片XYZY",
                    "ZO片XYCO",
                    "ZO片XYXO",
                    "ZO片XYZO",
                    "ZO片ZY",
                    "ZO片TY",
                    "ZO片XO",
                    "ZO片XOXY",
                    "ZO片XOZY",
                    "ZO片XOCO",
                    "ZO片XOZO",
                    "ZO片XOCU",
                    "ZO片TOZY",
                    "ZO片TOTY",
                    "ZO片TONY",
                    "ZO片TOZO",
                    "ZO片TONO",
                    "ZO片TONU",
                    "ZO片XUCO",
                    "ZO片XUXO",
                    "ZO片XUZO",
                    "ZO片XUCU",
                    "ZO片XUZI",
                    "ZO片ZUXO",
                    "ZO片ZUZO",
                    "ZO片ZUTU",
                    "ZO片TU",
                    "ZO片TUZO",
                    "ZO片TUNO",
                    "ZO片TUNU",
                    "ZO片TUZI",
                    "LY片LAI",
                    "LY片LAI心LAU",
                    "LY片LAI心LIA",
                    "CY片CAI心PIA",
                    "CY片CAI心MAU",
                    "CY片CAI心XAU",
                    "CY片CAI心XY",
                    "CY片CO水",
                    "CY片CO心CY",
                    "CY片CO心CU",
                    "CY片CO心XO",
                    "CY片MY心PY",
                    "CY片MY心CY",
                    "CY片MY心XY",
                    "CY片XY",
                    "CY片XY心ZAI",
                    "CY片XY心CO",
                    "MY片MAIMAU",
                    "MY片MAIPAI",
                    "MY片MAIMY",
                    "MY片MAIMIA",
                    "XAI片XAU",
                    "CAI片CAU",
                    "CAI片CAUMAU",
                    "CAI片CAUXAU",
                    "CAI片CAU心CAI",
                    "CAI片CYXY",
                    "CAI片CY心CAI",
                    "CAI片CY心CAU",
                    "CAI片CY心CO",
                    "CAI片MAI心MAU",
                    "CAI片MAI心MIA",
                    "CAI片MAI心PAI",
                    "CAI片MAI心CAI",
                    "CAI片XAICAI",
                    "CAI片XAIZAI水",
                    "CAI片XAI心XAU",
                    "CAI片XAI心XY",
                    "MAI片MAU",
                    "MAI片CAU",
                    "MAI片CAUMIA",
                    "MAI片CAUMAU",
                    "MAI片CAUXAU",
                    "MAI片CAUMAI",
                    "MAI片PAI",
                    "MAI片CAIMAU",
                    "MAI片CAICAU",
                    "MAI片CAIXAU",
                    "MAI片CAIMAI",
                    "MAI片CAIXY",
                    "MAI片PY",
                    "MAI片PYPAI",
                    "MAI片PYMAI",
                    "MAI片PYPO",
                    "MAI片MYPAI",
                    "MAI片MYMAI",
                    "MAI片MYPY",
                    "MAI片MYPO",
                    "MAI片MYCO水",
                    "MAI片CYMAI",
                    "MAI片CYXY",
                    "MAI片CYCO水",
                    "MAI片CYXO水",
                    "KIA片KAI",
                    "KIA片NIA",
                    "XIA片ZAU",
                    "XIA片CAU",
                    "XIA片CAUMIA",
                    "XIA片CAUXIA",
                    /* 皇 */
                    "PAU皇[PIA]MAU",
                    "PAU皇[PIA]PAU",
                    "PAU皇[PIA]MIA",
                    "PAU皇[MIA]CAUMAU",
                    "PAU皇[MIA]CAUMIA",
                    "PAU皇[MIA]CIAMAU",
                    "PAU皇[MIA]CIAMIA",
                    "PAU皇[MIA]MAU",
                    "PAU皇[MIA]PAU",
                    "PAU皇[MIA]PIA",
                    "PAU皇[MAU]CAUMAU",
                    "PAU皇[MAU]CAUMIA",
                    "PAU皇[MAU]CAIMAU",
                    "PAU皇[MAU]CIAMAU",
                    "PAU皇[MAU]CIAMIA",
                    "PAU皇[MAU]PAI",
                    "PAU皇[MAU]PAU",
                    "PAU皇[MAU]MIA",
                    "PAU皇[MAU]PIA",
                    "PAU皇[MAU]MAIPAI",
                    "PAU皇[MAU]MAIMAU",
                    "PAU皇[MAU]MAIPAU",
                    "PAU皇[PAI]MAU",
                    "PAU皇[PAI]PAU",
                    "PAU皇[PAI]MYPO",
                    "PAU皇[PAI]MYPAI",
                    "PAU皇[PAI]PYPO",
                    "PAU皇[PAI]PYPAI",
                    "PAU皇[PAI]MAIPAI",
                    "PAU皇[PAI]MAIMAU",
                    "PAU皇[PAI]MAIPAU",
                    "PAU皇MAI[PAI]MAU",
                    "PAU皇MAI[PAI]PAU",
                    "PAU皇MAI[MAU]PAI",
                    "PAU皇MAI[MAU]MIA",
                    "PAU皇MAI[MAU]PIA",
                    "PAU皇MAI[MAU]PAU",
                    "PAU皇MAI[PAU]PAI",
                    "PAU皇MAI[PAU]MAU",
                    "PAU皇MAI[PAU]MIA",
                    "PAU皇MAI[PAU]PIA",
                ],
            ),
            true,
        );
    }
    #[test]
    fn test_complicatedBoardSample_2() {
        assert_eq!(
            super::runTest(
                super::not_from_hand_candidates,
                &crate::test_cases::complicatedBoardSample_2(),
                serializePureOpponentMove,
                &[
                    "ZA片ZE",
                    "KE皇LI[KE]KA",
                    "KE皇LI[KE]LA",
                    "KE皇LI[KE]LE",
                    "KE皇LI[KE]KI",
                    "KE皇LI[LE]KA",
                    "KE皇LI[LE]LA",
                    "KE皇LI[LE]KE",
                    "KE皇LI[LE]KI",
                    "KE皇LI[KI]KE",
                    "KE皇LI[KI]LE",
                    "KE皇[KI]KE",
                    "KE皇[KI]LE",
                    "KE皇[KI]LIKE",
                    "KE皇[KI]LILE",
                    "KE皇[KI]LIKI",
                    "KE皇[KI]KUKI",
                    "KE皇[KI]KUKO",
                    "KE皇[KI]LUKI",
                    "KE皇[KI]LUKO",
                    "KE皇[LE]KA",
                    "KE皇[LE]LA",
                    "KE皇[LE]NALA",
                    "KE皇[LE]NALE",
                    "KE皇[LE]KE",
                    "KE皇[LE]NELA",
                    "KE皇[LE]NELE",
                    "KE皇[LE]KI",
                    "KE皇[LE]LIKE",
                    "KE皇[LE]LILE",
                    "KE皇[LE]LIKI",
                    "KE皇[LE]NILE",
                    "KE皇[LA]KA",
                    "KE皇[LA]NALA",
                    "KE皇[LA]NALE",
                    "KE皇[LA]KE",
                    "KE皇[LA]LE",
                    "KE皇[LA]NELA",
                    "KE皇[LA]NELE",
                    "KE皇[KA]LA",
                    "KE皇[KA]KE",
                    "KE皇[KA]LE",
                    "NE片NI",
                    "NE片NINU",
                    "NE片NITI",
                    "NE片NILI",
                    "NE片NINE",
                    "TE片TI",
                    "XE片XI",
                    "CE片CI",
                    "ZI片ZU",
                    "ZI片ZE",
                    "ZI片XI",
                    "ZI片CI",
                    "ZI片ZO",
                    "ZI片ZO心PA",
                    "ZI片ZO心ME",
                    "ZI片ZO心CI",
                    "ZI片ZO心XU",
                    "ZI片ZA心ZE",
                    "ZI片ZA心ZI",
                    "ZI片ZA心ZU",
                    "ZI片ZA心ZO",
                    "ZI片ZA心XA",
                    "ZI片ZA心CA",
                    "ZI片ZA心MA",
                    "ZI片ZA心PA",
                    "ZI片ZA心TA",
                    "ZI片MI心MU",
                    "ZI片MI心ME",
                    "ZI片MI心MA",
                    "ZI片MI心PI",
                    "ZI片MI心CI",
                    "ZI片MI心XI",
                    "ZI片MI心ZI",
                    "ZI片MI心TI",
                    "ZI片TI",
                    "ZI片TI心ZI",
                    "ZI片TI心XI",
                    "ZI片TI心CI",
                    "ZI片TI心NI",
                    "MI片MO",
                    "MI片MA",
                    "MI片XI",
                    "KU片NY",
                    "KU片NEZU水",
                    "KU片NEKU",
                    "TU片XY心MU",
                    "TU片XY心NI",
                    "TU片XY心TU",
                    "TU片LY",
                    "TU片XEMU",
                    "TU片XETU",
                    "TU片KA",
                    "TU片LE",
                    "NO片NY",
                    "NO片NU",
                    "NO片NUNO",
                    "NO片NUNI",
                    "NO片NU心LU",
                    "NO片TO心ZO",
                    "NO片TO心NO",
                    "NO片TO心LO",
                    "NO片LO",
                    "NO片LOLY",
                    "NO片LOLU",
                    "NO片LO心NO",
                    "NO片LO心KO",
                    "TO片TYNY",
                    "TO片TYTO",
                    "CY片CAI",
                    "CY片CAICAU",
                    "CY片CAIMAI",
                    "CY片CAIXAI",
                    "CY片CAICY",
                    "MY片MAI",
                    "MY片MO",
                    "MY片PY",
                    "MY片CYCAI",
                    "MY片CYCO水",
                    "MY片CY心MY",
                    "MY片CY心PY",
                    "KAI片LAINAI",
                    "KAI片LAIKAI",
                    "KAI片LAI心LY",
                    "KAI片LAI心LO",
                    "KAI片KAU心KIA",
                    "KAI片KAU心KAI",
                    "KAI片KAU心KY",
                    "KAI片KY",
                    "KAI片KYLY",
                    "KAI片KY心KAI",
                    "KAI片KY心KO",
                    "ZAI片XAU",
                    "ZAI片XAUZIA",
                    "ZAI片XAUCAU",
                    "ZAI片XAUZAU",
                    "ZAI片XAUCAI",
                    "ZAI片XAUXAI",
                    "ZAI片XAUZAI",
                    "ZAI片ZAU",
                    "ZAI片ZAUZIA",
                    "ZAI片ZAUTIA",
                    "ZAI片ZAUXAU",
                    "ZAI片ZAUXAI",
                    "ZAI片ZAUZAI",
                    "ZAI片TAUZIA",
                    "ZAI片TAUTIA",
                    "ZAI片TAUZAU",
                    "ZAI片TAUZAI",
                    "ZAI片TAUNAI",
                    "ZAI片XAI",
                    "ZAI片XAICAU",
                    "ZAI片XAIXAU",
                    "ZAI片XAIZAU",
                    "ZAI片XAICAI",
                    "ZAI片XAIZAI",
                    "ZAI片TAIZAU",
                    "ZAI片TAIZAI",
                    "ZAI片TAINAI",
                    "ZAI片TAINY",
                    "ZAI片XYCAI",
                    "ZAI片XYXAI",
                    "ZAI片XYZAI",
                    "ZAI片XYCO",
                    "ZAI片XYZO",
                    "ZAI片ZYXAI",
                    "ZAI片ZYZAI",
                    "ZAI片ZYZO",
                    "ZAI片TYZAI",
                    "ZAI片TYNAI",
                    "ZAI片TYNY",
                    "ZAI片TYZO",
                    "KAU片KIA",
                    "KAU片KAI心KAU",
                    "KAU片KAI心KIA",
                    "KAU片KAI心KY",
                    "KAU片LAU心LIA",
                    "KAU片LAU心KAU",
                    "NAU片TIA",
                    "NAU片TIAZIA",
                    "NAU片TIAZAU",
                    "NAU片TIANAU",
                    "NAU片NIATIA",
                    "NAU片NIALIA",
                    "NAU片LIA",
                    "NAU片TAUZIA",
                    "NAU片TAUTIA",
                    "NAU片TAUZAU",
                    "NAU片TAUNAU",
                    "NAU片TAUNAI",
                    "NAU片LAULIA",
                    "NAU片LAUKIA",
                    "NAU片LAUNAU",
                    "NAU片LAUNAI",
                    "NAU片TAIZAU",
                    "NAU片TAINAU",
                    "NAU片TAINAI",
                    "NAU片TAINY",
                    "NAU片LAINAU",
                    "NAU片LAINAI",
                    "NAU片LAINY",
                    "NAU片LAIKY",
                    "TAU片ZIA",
                    "TAU片NIATAU",
                    "TAU片ZAIXAU",
                    "TAU片ZAITAU",
                    "TAU片NAI",
                    "TAU片NAI心ZIA",
                    "TAU片NAI心TAU",
                    "TAU片NAI心KO",
                    "TAU片NAI心LY",
                    "MAU片PIA",
                    "MAU片CIAMAU",
                    "MAU片CIAXAU",
                    "MAU片PAI",
                    "MAU片PAIMAU",
                    "MAU片CAI",
                    "MAU片CAI心PIA",
                    "MAU片CAI心MAU",
                    "MAU片CAI心XAU",
                    "XIA片CIAMIA",
                    "XIA片CIAXIA",
                    "XIA片CIA心CAU",
                    "XIA片CIA心CAI",
                    "XIA片ZIA",
                    "XIA片XAU",
                    "XIA片XAUCAU",
                    "XIA片XAUZAU",
                    "XIA片XAU心XIA",
                    "XIA片XAU心XAI",
                    "CIA片CAI",
                    "CIA片CAIPIA",
                    "CIA片CAIZIA",
                    "CIA片CAIZO水",
                    "CIA片CAIPO",
                    "CIA片PIA",
                    "CIA片ZIA",
                    /* 皇処之巫 */
                    "XY片CO水",
                    "XY片MU",
                    "XY片MUMO",
                    "XY片MU心PU",
                    "XY片MU心CU",
                    "XY片MU心XU",
                    "XY片MU心ZU",
                    "XY片PI",
                    "XY片XU",
                    "XY片XI",
                    "XY片XOXY",
                    "XY片XOXU",
                    "XY片XO心CO",
                    "XY片XO心MO",
                    "XY片XO心PO",
                    "XY片XO心ZO",
                    "XY片XAI",
                    "XY片XAIXAU",
                    "XY片XAIXY",
                    "XY片XAI心CAI",
                    "XY片XAU",
                    "XY片XAUXAI",
                    "XY片XAU心CAU",
                    "XY片XAU心ZAU",
                    "XY片XEXI",
                    "XY片XEXA",
                    "XY片XE心ZE",
                    "XY片CYCAI",
                    "XY片CYCO水",
                    "XY片CY心XY",
                    "XY片MYMAI",
                    "XY片MYMO",
                    "XY片MY心PY",
                    "XY片ZYZO水",
                    "XY片ZY心XY",
                    "XY片TAUTIA",
                    "XY片TAU心ZAU",
                    "XY片ZAIZAU",
                    "XY片ZAI心XAI",
                    "XY片MAUMIA",
                    "XY片MAUMAI",
                    "XY片MAU心PAU",
                    "XY片MAU心CAU",
                    "XY片MAU心XAU",
                    "XY片CAI",
                    "XY片CAI心CAU",
                    "XY片CAI心CO",
                    "XY片CAI心CU",
                    "XY片CAI心CI",
                    "XY片CAI心MAI",
                    "XY片CAI心PAI",
                    "XY片CAI心XAI",
                    "XY片CAI心PIA",
                    "XY片CAI心ZIA",
                    "XY片CAI心XAU",
                    "XY片CAI心PO",
                    "XY片CAI心ZO",
                    "XY片CAI心XY",
                    "XY片TY心XY",
                    "XY片TY心NY",
                    "XY片TY心LY",
                    "XY片TY心KY",
                    "XY片TY心XAU",
                    "XY片TY心NAI",
                    "XY片TY心PA",
                    "XY片TY心ME",
                    "XY片TY心CI",
                    "XY片TY心XU",
                    "XY片TY心ZO",
                    "XY片TY心LU",
                    "XY片TU心TI",
                    "XY片TU心ZU",
                    "XY片TU心XU",
                    "XY片TU心CU",
                    "XY片TU心MU",
                    "XY片TU心PU",
                    "XY片TU心NU",
                    "XY片TU心LU",
                    "XY片TU心CAI",
                    "XY片TU心XY",
                    "XY片TU心ZO",
                    "XY片TU心LY",
                    "XY片TU心KA",
                    "XY片TU心LE",
                    "XY片TU心NI",
                    "XY片ZO水",
                    "XY片ZO心ZU",
                    "XY片ZO心ZE",
                    "XY片ZO心CO",
                    "XY片ZO心MO",
                    "XY片ZO心PO",
                    "XY片ZO心CAI",
                    "XY片ZO心XY",
                    "XY片ZO心NAI",
                    "XY片ZO心PA",
                    "XY片ZO心ME",
                    "XY片ZO心CI",
                    "XY片ZO心XU",
                    "XY片ZO心NI",
                ],
            ),
            true,
        );
    }
    #[test]
    fn test_tamCornerSample() {
        assert_eq!(
            super::runTest(
                super::not_from_hand_candidates,
                &crate::test_cases::tamCornerSample(),
                serializePureOpponentMove,
                &[
                    "CAI片XAI",
                    "CAI片CY",
                    "MAI片MAUMAI",
                    "PAI片PAUPAI",
                    "MAU片MIAMAU",
                    "MAU片PAUMAU",
                    "MAU片MAIMAU",
                    "PAU片MAUPAU",
                    "PAU片PAIPAU",
                    "MIA片MAUMIA",
                ],
            ),
            true,
        );
    }
    #[test]
    fn test_tamItselfIsNotTamHueSample() {
        assert_eq!(
            super::runTest(
                super::not_from_hand_candidates,
                &crate::tamItselfIsNotTamHueSample,
                serializePureOpponentMove,
                &crate::INITIAL_MOVES_NO_KUT_TAM,
            ),
            true,
        );
    }
}

mod empty_squares {
    use crate::serialize::*;
    #[test]
    fn test_initialBoardSample() {
        assert_eq!(
            super::runTest(
                crate::empty_squares,
                &crate::initialBoardSample,
                serializeCoord,
                &[
                    "[1,2]", "[1,4]", "[1,6]", "[3,0]", "[3,1]", "[3,2]", "[3,3]", "[3,4]",
                    "[3,5]", "[3,6]", "[3,7]", "[3,8]", "[4,0]", "[4,1]", "[4,2]", "[4,3]",
                    "[4,5]", "[4,6]", "[4,7]", "[4,8]", "[5,0]", "[5,1]", "[5,2]", "[5,3]",
                    "[5,4]", "[5,5]", "[5,6]", "[5,7]", "[5,8]", "[7,2]", "[7,4]", "[7,6]",
                ],
            ),
            true,
        );
    }
}

mod get_opponent_pieces_rotated {
    use crate::serialize::*;
    #[test]
    fn test_initialBoardSample() {
        assert_eq!(
            super::runTest(
                crate::get_opponent_pieces_rotated,
                &crate::initialBoardSample,
                serializeRotated,
                &[
                    "[8,8] 黒筆↑",
                    "[8,7] 黒馬↑",
                    "[8,6] 黒車↑",
                    "[8,5] 黒将↑",
                    "[8,4] 赤王↑",
                    "[8,3] 赤将↑",
                    "[8,2] 赤車↑",
                    "[8,1] 赤馬↑",
                    "[8,0] 赤筆↑",
                    "[7,8] 赤巫↑",
                    "[7,7] 赤弓↑",
                    "[7,5] 赤虎↑",
                    "[7,3] 黒虎↑",
                    "[7,1] 黒弓↑",
                    "[7,0] 黒巫↑",
                    "[6,8] 黒兵↑",
                    "[6,7] 赤兵↑",
                    "[6,6] 黒兵↑",
                    "[6,5] 赤兵↑",
                    "[6,4] 赤船↑",
                    "[6,3] 赤兵↑",
                    "[6,2] 黒兵↑",
                    "[6,1] 赤兵↑",
                    "[6,0] 黒兵↑",
                    "[4,4] 皇",
                ],
            ),
            true,
        );
    }
}

mod from_hand_candidates {
    use crate::serialize::*;
    #[test]
    fn test_initialBoardSample() {
        assert_eq!(
            super::runTest(
                crate::from_hand_candidates,
                &crate::initialBoardSample,
                serializePureOpponentMove,
                &[],
            ),
            true,
        );
    }
    #[test]
    fn test_simpleBoardSample_4() {
        assert_eq!(
            super::runTest(
                crate::from_hand_candidates,
                &crate::test_cases::simpleBoardSample_4(),
                serializePureOpponentMove,
                &[
                    "黒弓KA",
                    "黒弓LA",
                    "黒弓NA",
                    "黒弓TA",
                    "黒弓ZA",
                    "黒弓XA",
                    "黒弓CA",
                    "黒弓MA",
                    "黒弓PA",
                    "黒弓KE",
                    "黒弓LE",
                    "黒弓NE",
                    "黒弓TE",
                    "黒弓ZE",
                    "黒弓XE",
                    "黒弓CE",
                    "黒弓ME",
                    "黒弓PE",
                    "黒弓KI",
                    "黒弓LI",
                    "黒弓NI",
                    "黒弓TI",
                    "黒弓ZI",
                    "黒弓XI",
                    "黒弓CI",
                    "黒弓MI",
                    "黒弓KU",
                    "黒弓LU",
                    "黒弓NU",
                    "黒弓TU",
                    "黒弓ZU",
                    "黒弓XU",
                    "黒弓CU",
                    "黒弓MU",
                    "黒弓PU",
                    "黒弓KO",
                    "黒弓LO",
                    "黒弓NO",
                    "黒弓TO",
                    "黒弓ZO",
                    "黒弓XO",
                    "黒弓CO",
                    "黒弓MO",
                    "黒弓PO",
                    "黒弓KY",
                    "黒弓LY",
                    "黒弓NY",
                    "黒弓TY",
                    "黒弓ZY",
                    "黒弓XY",
                    "黒弓CY",
                    "黒弓MY",
                    "黒弓PY",
                    "黒弓KAI",
                    "黒弓LAI",
                    "黒弓NAI",
                    "黒弓TAI",
                    "黒弓ZAI",
                    "黒弓XAI",
                    "黒弓CAI",
                    "黒弓MAI",
                    "黒弓PAI",
                    "黒弓KAU",
                    "黒弓LAU",
                    "黒弓NAU",
                    "黒弓TAU",
                    "黒弓ZAU",
                    "黒弓XAU",
                    "黒弓CAU",
                    "黒弓MAU",
                    "黒弓PAU",
                    "黒弓KIA",
                    "黒弓LIA",
                    "黒弓NIA",
                    "黒弓TIA",
                    "黒弓ZIA",
                    "黒弓XIA",
                    "黒弓CIA",
                    "黒弓MIA",
                ],
            ),
            true,
        );
    }
}
